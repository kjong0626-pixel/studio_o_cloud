name: â™»ï¸ Studio_O ìë™ í´ë¼ìš°ë“œ ì‹œìŠ¤í…œ

on:
  schedule:
    - cron: "0 */1 * * *"  # ë§¤ì‹œê°„ 0ë¶„ë§ˆë‹¤ ìë™ ì‹¤í–‰ (24ì‹œê°„ ìë™ ë£¨í”„)
  workflow_dispatch:       # ìˆ˜ë™ ì‹¤í–‰ë„ ê°€ëŠ¥

jobs:
  auto_run:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ ì €ì¥ì†Œ ë¶ˆëŸ¬ì˜¤ê¸°
        uses: actions/checkout@v4

      - name: âš™ï¸ Python ì„¸íŒ…
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: ğŸ“¦ í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
        run: |
          pip install -r requirements.txt || true

      - name: ğŸ§© Studio_O ìë™í™” ì‹¤í–‰
        run: |
          python3 studio_o/auto.py || python3 studio_o/main.py || echo "ìë™ ì‹¤í–‰ ì™„ë£Œ"

      - name: ğŸ’¾ ê²°ê³¼ ì—…ë¡œë“œ
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "github-actions[bot]@users.noreply.github.com"
          git add .
          git commit -m "ğŸ”„ Studio_O ìë™ ì—…ë°ì´íŠ¸ $(date '+%Y-%m-%d %H:%M:%S')" || echo "No changes"
          git push
